<?xml version="1.0" encoding="UTF-8"?>

<!-- The core configuration file for the framework is the default (struts.xml) file
and should reside on the classpath of the webapp (generally /WEB-INF/classes). -->

<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

  <!-- devMode equals debug information and reload everything for every request -->
  <constant name="struts.devMode" value="true" />
  <constant name="struts.ui.theme" value="simple" />

  <package name="webserver" extends="struts-default">
	
	<default-action-ref name="index" />
	
	<global-results> <result name="error">/error.jsp</result> </global-results>

	<!-- all exceptions not caught by the application will lead to error.jsp -->
	<global-exception-mappings> <exception-mapping exception="java.lang.Exception" result="error" /> </global-exception-mappings>

	<!--========================================================================================-->

	<!-- MAIN PAGES -->
    <action name="index"> <result>/index.jsp</result> 			</action>
    <action name="admin"> <result>/admin/adminmenu.jsp</result> </action>
    
	<!--========================================================================================-->
	<!--	ADMIN ACTIONS	-->
	<!--========================================================================================-->

	<!--BUTTON ACTIONS-->
	<action name="button1">
        <result>/admin/pages/button1.jsp</result>
    </action>
	<action name="button2">
        <result>/admin/pages/button2.jsp</result>
    </action>
	<action name="button3" class="webserver.action.EditElection" method="getUnstartedElections">
        <result>/admin/pages/button3.jsp</result>
    </action>
	<action name="button4">
        <result>/admin/pages/button4.jsp</result>
    </action>
	<action name="button5" class="webserver.action.ConsultFinishedElections" method="getFinishedElections">
        <result>/admin/pages/button5.jsp</result>
    </action>
	<action name="button6">
        <result>/admin/pages/button6.jsp</result>
    </action>
	<action name="button7">
        <result>/admin/pages/button7.jsp</result>
    </action>
	<action name="button8">
        <result>/admin/pages/button8.jsp</result>
    </action>
	<action name="button9">
        <result>/admin/pages/button9.jsp</result>
    </action>

	<!--SYSTEM ACTIONS-->
	<action name="regist_user" class="webserver.action.RegistUser" method="execute">
        <result name="success">/admin/adminmenu.jsp</result>
        <result name="error">/admin/pages/button1.jsp</result>
    </action>
	<action name="regist_election" class="webserver.action.RegistElection" method="execute">
        <result name="success">/admin/adminmenu.jsp</result>
        <result name="error">/admin/pages/button2.jsp</result>
    </action>
	<action name="edit_election" class="webserver.action.EditElection" method="execute">
        <result name="success">/admin/adminmenu.jsp</result>
        <result name="error">/admin/pages/button3.jsp</result>
    </action>
	<action name="consult_finished_elections" class="webserver.action.ConsultFinishedElections" method="execute">
        <result name="success">/admin/pages/FinishedElectionDetails.jsp</result>
        <result name="error">/admin/pages/button5.jsp</result>
    </action>


	<!--========================================================================================-->
	<!--	USER ACTIONS	-->
	<!--========================================================================================-->


    <!--
    <action name="login" class="webserver.action.LoginAction" method="execute">
		<result name="success">/Login_Correto.jsp</result>
		<result name="login">/index.jsp</result>
    </action>
    -->
  </package>
</struts>